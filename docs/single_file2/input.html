<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SEARCH_REPLACE_TITLE</title>

<!-- http://github.com/michielhermes/viscol -->
<!-- Javascript files for webgl -->

<script type="text/javascript" src="../external/fft.js"></script>
<script type="text/javascript" src="../external/gl-matrix.js"></script>
<script type="text/javascript" src="../viscol.js"></script>

<style>
input[type=range] {
  -webkit-appearance: none;
  margin: 18px 0;
  width: 100%;
}
input[type=range]:focus {
  outline: none;
}
input[type=range]::-webkit-slider-runnable-track {
  width: 100%;
  height: 8.4px;
  cursor: pointer;
  animate: 0.2s;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  background: #3071a9;
  border-radius: 1.3px;
  border: 0.2px solid #010101;
}
input[type=range]::-webkit-slider-thumb {
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  border: 1px solid #000000;
  height: 36px;
  width: 16px;
  border-radius: 3px;
  background: #ffffff;
  cursor: pointer;
  -webkit-appearance: none;
  margin-top: -14px;
}
input[type=range]:focus::-webkit-slider-runnable-track {
  background: #367ebd;
}
input[type=range]::-moz-range-track {
  width: 100%;
  height: 8.4px;
  cursor: pointer;
  animate: 0.2s;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  background: #3071a9;
  border-radius: 1.3px;
  border: 0.2px solid #010101;
}
input[type=range]::-moz-range-thumb {
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  border: 1px solid #000000;
  height: 36px;
  width: 16px;
  border-radius: 3px;
  background: #ffffff;
  cursor: pointer;
}
input[type=range]::-ms-track {
  width: 100%;
  height: 8.4px;
  cursor: pointer;
  animate: 0.2s;
  background: transparent;
  border-color: transparent;
  border-width: 16px 0;
  color: transparent;
}
input[type=range]::-ms-fill-lower {
  background: #2a6495;
  border: 0.2px solid #010101;
  border-radius: 2.6px;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
}
input[type=range]::-ms-fill-upper {
  background: #3071a9;
  border: 0.2px solid #010101;
  border-radius: 2.6px;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
}
input[type=range]::-ms-thumb {
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  border: 1px solid #000000;
  height: 36px;
  width: 16px;
  border-radius: 3px;
  background: #ffffff;
  cursor: pointer;
}
input[type=range]:focus::-ms-fill-lower {
  background: #3071a9;
}
input[type=range]:focus::-ms-fill-upper {
  background: #367ebd;
}
</style>
</head>


<body onload="start();">
<!--=========================================================================-->
<h2 class=page-header>SEARCH_REPLACE_TITLE</h2>
<p>
<br><canvas id="webgl-canvas" width="600" height="600" style="border: 1px dotted gray; width: 80%;height :auto; max-height: 80vh; max-width: 80vh;"></canvas><br>

<input id="slider" type="range" oninput="sliderUpdate(Number(this.value))" min="-1.6" max="1.6" value="-1.6" step="0.01" style="width: 80%; max-width:80vh;">

<p>
SEARCH_REPLACE_DESCRIPTION
<p>
Made using <a href="http://github.com/michielhermes/viscol"> Visual colloids</a>.
<!--=========================================================================-->

<script type="text/javascript">
function sliderUpdate(value){
  if(peel) {
    viewer.hideLayers((-value+1.6)/3.2);
  } else {
    viewer.setSliceDepth(value);
  }
}

function setSlider(){
  var slider = document.getElementById("slider");
  var val;
  var view=viewer.getView();
  if(peel) {
    slider.value=view.hideR;
    viewer.toggleSlice(false);
  } else {
    slider.value=view.sliceDepth;
    viewer.toggleHideLayers(false);
  }
}

var peel=false;
var viewer; //global so that the range allement can access it
function start(){
  viewer=new viscol(document.getElementById("webgl-canvas"),"fixed");
  var snap = {};
  snap.name=`SEARCH_REPLACE_NAME`;
  snap.data=`SEARCH_REPLACE_DATA`;
  viewer.loadFromVar(snap);
  viewer.setSpeed([0,0]);
  viewer.toggleDrawBox(false);
  viewer.toggleSlice(true);
  viewer.setSliceDepth(-1.6);
  viewer.toggleDrawFFT(false);
  viewer.setView({matrix:[1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1],zoom:0.7});
  setSlider();
}
</script>

</body>

</html>
